<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootstrap icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- favicon -->
    <link rel="shortcut icon" href="assets/img/clipboard-heart-fill.svg" type="image/x-icon">
    <!-- estilos -->
     <link rel="stylesheet" href="assets/css/style.css">
    <title>Centro Medico</title>
</head>
<body>
    
    <header class="header">
        <a href="index.html"><h2>Centro Medico</h2></a><br>
        <br>

        <nav class="navbar">
            <a href="inicioSesion.html">Inicio Sesión</a>
            <a href="">Reservar hora</a>
            <a href="registro.html">Registrarse</a>
            <a href="opiniones.html">Opiniones</a>
            <a href="faq.html">FAQ</a>
        </nav>

    </header>

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
     <!-- Calendario -->
     <div class="container-res">
        <div class="especialidades">
            <h1>Especialidades</h1>
            <select class="opciones" name="esp" id="esp">
                <option value="1">Medicina General</option>
                <option value="2">Kinesiologia</option>
                <option value="3">Dermatologia</option>
                <option value="4">Geriatria</option>
                <option value="5">Otorrinolaringología</option>
                <option value="6">Medicina General Adulto</option>
            </select>
        </div>

        <div class="datos-doctor">
            <div class="img-doc">
                <img src="assets/img/doctor.jfif" alt="Doctor" height="200" width="200">
            </div>
            <p>Nombre: Dr.Hipocrates García</p>
            <p>Edad: 40 Años</p>
            <p>Especialidad: Medicina General Adulto</p>
        </div>  
        <div class="calendario">
            <div class="embed-responsive embed-responsive-21by9 shadow p-3 mb-5 bg-white rounded" id="iframe">
                <iframe class="embed-responsive-item" src="https://calendar.google.com/calendar/embed?showTitle=0&amp;showCalendars=0&amp;showPrint=0&amp;mode=WEEK&amp;height=500&amp;wkst=2&amp;hl=es_419&amp;bgcolor=%23ffffff&amp;src=colkdac81qa23qbubbneip94io%40group.calendar.google.com&amp;color=%238C500B&amp;ctz=America%2FSantiago" style="border-width:0" width="900" height="500" frameborder="0" scrolling="no"></iframe>
            </div>
            <br>
            <!-- Lista de eventos (eventos próximos) -->
            <pre id="content" style="font-family: sans-serif; line-height: 1.15;"></pre>
        </div>
    </div>
    <div class="btn2" style="margin-bottom: 20px;">
        <button type="submit">Reservar Hora</button>
    </div>


    <footer class="footer">
        <div class="container">
            <div class="footer-row">
                <div class="footer-links">
                    <h4>Contacto</h4>
                    <p>+56 9 2222 2222</p>
                </div>
                <div class="footer-links">
                    <h4>Enlaces de interes</h4>
                    <ul>
                        <li><a href="https://www.minsal.cl/">Ministerio de Salud</a></li>
                        <li><a href="https://www.municipalidadmaipu.cl/">Municipalidad de Maipú</a></li>
                        <li><a href="https://www.duoc.cl/">Duoc UC</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Visitanos</h4>
                    <p>Calle falsa #1312 <br>Maipú, Santiago <br>Chile</p>
                </div>
            </div>
        </div>
    </footer>


 <!-- Funciones JS -->
<script type="text/javascript">
    // Client ID and API key from the Developer Console
    var CLIENT_ID = '<YOUR_CLIENT_ID>';
    var API_KEY = '<YOUR_API_KEY>';

    // Array of API discovery doc URLs for APIs used by the quickstart
    var DISCOVERY_DOCS = ["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];

    // Authorization scopes required by the API; multiple scopes can be
    // included, separated by spaces.
    var SCOPES = "https://www.googleapis.com/auth/calendar.readonly";

    var authorizeButton = document.getElementById('authorize_button');
    var signoutButton = document.getElementById('signout_button');

    /**
     *  On load, called to load the auth2 library and API client library.
     */
    function handleClientLoad() {
      gapi.load('client:auth2', initClient);
    }

    /**
     *  Initializes the API client library and sets up sign-in state
     *  listeners.
     */
    function initClient() {
      gapi.client.init({
        apiKey: API_KEY,
        clientId: CLIENT_ID,
        discoveryDocs: DISCOVERY_DOCS,
        scope: SCOPES
      }).then(function() {
        // Listen for sign-in state changes.
        gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);

        // Handle the initial sign-in state.
        updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
        authorizeButton.onclick = handleAuthClick;
        signoutButton.onclick = handleSignoutClick;
      });
    }

    /**
     *  Called when the signed in status changes, to update the UI
     *  appropriately. After a sign-in, the API is called.
     */
    function updateSigninStatus(isSignedIn) {
      if (isSignedIn) {
        authorizeButton.style.display = 'none';
        signoutButton.style.display = 'block';
        listUpcomingEvents();
      } else {
        authorizeButton.style.display = 'block';
        signoutButton.style.display = 'none';
      }
    }

    /**
     *  Sign in the user upon button click.
     */
    function handleAuthClick(event) {
      gapi.auth2.getAuthInstance().signIn();
    }

    /**
     *  Sign out the user upon button click.
     */
    function handleSignoutClick(event) {
      gapi.auth2.getAuthInstance().signOut();
      window.location.replace('index.html');
    }

    /**
     * Append a pre element to the body containing the given message
     * as its text node. Used to display the results of the API call.
     *
     * @param {string} message Text to be placed in pre element.
     */
    function appendPre(message) {
      var pre = document.getElementById('content');
      var textContent = document.createTextNode(message + '\n');
      pre.appendChild(textContent);
    }

    /**
     * Print the summary and start datetime/date of the next ten events in
     * the authorized user's calendar. If no events are found an
     * appropriate message is printed.
     */
    function listUpcomingEvents() {
      gapi.client.calendar.events.list({
        'calendarId': 'primary',
        'timeMin': (new Date()).toISOString(),
        'showDeleted': false,
        'singleEvents': true,
        'maxResults': 10,
        'orderBy': 'startTime'
      }).then(function(response) {
        var events = response.result.items;
        appendPre('Lista de tus eventos creados: \n');

        if (events.length > 0) {
          for (i = 0; i < events.length; i++) {
            var event = events[i];
            var when = event.start.dateTime;
            if (!when) {
              when = event.start.date;
            }
            appendPre(event.summary + ' (' + when + ')')
          }
        } else {
          appendPre('No upcoming events found.');
        }
      });
    }
</script>

<script async defer src="https://apis.google.com/js/api.js" onload="this.onload=function(){};handleClientLoad()" onreadystatechange="if (this.readyState === 'complete') this.onload()"></script>
<!-- Bootstrap 4 JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>